{"version":3,"sources":["components/Login.js","useAuth.js","components/TrackSearch.js","components/VideoPlayer.js","myplaylists.js","components/Playlist.js","Dashboard.js","App.js","reducers/playlistReducer.js","index.js"],"names":["Login","className","style","minHeight","href","SpotifyWebApi","require","TrackSearchResult","track","showPlayer","setPlaylistVideo","cursor","onClick","fullTitle","artist","title","search","src","albumUrl","height","width","alt","VideoPlayer","selectedTrack","playlistVideo","dispatch","setPlaylistVide","useDispatch","useSelector","state","playlist","useState","video","setVideo","setLoading","REACT_APP_YOUTUBE_API","process","videoSrc","id","useEffect","axios","get","then","response","data","items","videoId","catch","err","console","log","allowFullScreen","allowautoplay","type","payload","item","myPlaylists","tracks","Playlist","filter","setFilter","playlistTracks","setPlaylistTracks","handleSelect","e","map","i","Dropdown","Toggle","Menu","Item","eventKey","onSelect","responsive","superLargeDesktop","breakpoint","max","min","desktop","tablet","mobile","spotifyApi","clientId","Dashboard","accessToken","code","setAccessToken","refreshToken","setRefreshToken","expiresIn","setExpiresIn","redirectUri","REACT_APP_CLIENT_ID","clientSecret","REACT_APP_CLIENT_SECRET","post","res","window","history","pushState","location","interval","setInterval","clearInterval","useAuth","setSearch","searchResults","setSearchResults","setSelectedTrack","userName","setUserName","setUserId","isActive","setIsActive","dropdownRef","useRef","getMe","body","display_name","cancel","searchTracks","smallestAlbumImage","album","images","reduce","smallest","image","artists","name","uri","url","value","ref","letterSpacing","color","Form","Control","placeholder","onChange","target","URLSearchParams","App","playlistReducer","action","playlistItem","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7b840781.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst AUTH_URL =\r\n\t\"https://accounts.spotify.com/authorize?client_id=d9eef23f8ad74b80b1e7535609cfc4cf&response_type=code&redirect_uri=http://localhost:5000/&scope=streaming%20user-read-email%20user-read-private%20user-library-read%20user-library-modify%20user-read-playback-state%20user-modify-playback-state\";\r\n\r\nexport default function Login() {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"d-flex justify-content-center align-items-center\"\r\n\t\t\tstyle={{ minHeight: \"100vh\" }}\r\n\t\t>\r\n\t\t\t<a href={AUTH_URL} className=\"button\">\r\n\t\t\t\t<h4>LET'S START!</h4>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nconst SpotifyWebApi = require(\"spotify-web-api-node\");\r\n\r\nexport default function useAuth(code) {\r\n\tconst [accessToken, setAccessToken] = useState();\r\n\tconst [refreshToken, setRefreshToken] = useState();\r\n\tconst [expiresIn, setExpiresIn] = useState();\r\n\r\n\tconst spotifyApi = new SpotifyWebApi({\r\n\t\tredirectUri: process.env.REACT_APP_REDIRECT_URI,\r\n\t\tclientId: process.env.REACT_APP_CLIENT_ID,\r\n\t\tclientSecret: process.env.REACT_APP_CLIENT_SECRET,\r\n\t\trefreshToken,\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\taxios\r\n\t\t\t.post(\"http://localhost:5000/login\", {\r\n\t\t\t\tcode,\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetAccessToken(res.data.accessToken);\r\n\t\t\t\tsetRefreshToken(res.data.refreshToken);\r\n\t\t\t\tsetExpiresIn(res.data.expiresIn);\r\n\t\t\t\twindow.history.pushState({}, null, \"/\");\r\n\t\t\t\tconsole.log();\r\n\t\t\t})\r\n\t\t\t.catch(() => {\r\n\t\t\t\twindow.location = \"/\";\r\n\t\t\t});\r\n\t}, [code]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!refreshToken || !expiresIn) return;\r\n\t\tconst interval = setInterval(() => {\r\n\t\t\taxios\r\n\t\t\t\t.post(\"http://localhost:5000/refresh\", {\r\n\t\t\t\t\trefreshToken,\r\n\t\t\t\t})\r\n\t\t\t\t.then((res) => {\r\n\t\t\t\t\tsetAccessToken(res.data.accessToken);\r\n\t\t\t\t\tsetExpiresIn(res.data.expiresIn);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(() => {\r\n\t\t\t\t\twindow.location = \"/\";\r\n\t\t\t\t});\r\n\t\t}, (expiresIn - 60) * 1000);\r\n\r\n\t\treturn () => clearInterval(interval);\r\n\t}, [refreshToken, expiresIn]);\r\n\r\n\treturn accessToken;\r\n}\r\n","import React, { useEffect } from \"react\";\r\n\r\nexport default function TrackSearchResult({\r\n\ttrack,\r\n\tshowPlayer,\r\n\tsetPlaylistVideo,\r\n}) {\r\n\tfunction handleClick() {\r\n\t\tsetPlaylistVideo(null);\r\n\t\tconst fullTitle = track.artist + \" \" + track.title;\r\n\t\tshowPlayer(fullTitle);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName=\"d-flex m-2 align-items-center\"\r\n\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\tonClick={handleClick}\r\n\t\t\tsearch=\"\"\r\n\t\t>\r\n\t\t\t<img\r\n\t\t\t\tsrc={track.albumUrl}\r\n\t\t\t\tstyle={{ height: \"84px\", width: \"84px\" }}\r\n\t\t\t\talt=\"\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"ml-3\">\r\n\t\t\t\t<div>{track.title}</div>\r\n\t\t\t\t<div className=\"text-muted\">{track.artist}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport \"../stylesheets/player.css\";\r\nimport axios from \"axios\";\r\n\r\nfunction VideoPlayer({ selectedTrack, playlistVideo, setPlaylistVide }) {\r\n\tconst dispatch = useDispatch();\r\n\tconst playlist = useSelector((state) => state.playlist);\r\n\tconst playlistItems = playlist;\r\n\tconst [video, setVideo] = useState(\"\");\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [show, setShow] = useState(false);\r\n\r\n\tconst REACT_APP_YOUTUBE_API = process.env.REACT_APP_YOUTUBE_API;\r\n\tlet videoSrc = \"\";\r\n\tif (playlistVideo) {\r\n\t\tvideoSrc = playlistVideo.id;\r\n\t} else {\r\n\t\tvideoSrc = `https://www.youtube.com/embed/${video}`;\r\n\t}\r\n\r\n\tconst handleClick = () => {\r\n\t\tconsole.log(\"line 17\", selectedTrack);\r\n\t\tdispatch({\r\n\t\t\ttype: \"ADD_PLAYLIST_ITEM\",\r\n\t\t\tpayload: {\r\n\t\t\t\titem: selectedTrack,\r\n\t\t\t\tid: videoSrc,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tconsole.log(\"dispatch\", dispatch);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\taxios\r\n\t\t\t.get(\r\n\t\t\t\t`https://www.googleapis.com/youtube/v3/search/?key=${REACT_APP_YOUTUBE_API}&part=snippet&q=youtu.be/${selectedTrack}`\r\n\t\t\t)\r\n\t\t\t.then((response) => {\r\n\t\t\t\tsetVideo(response.data.items[0].id.videoId);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tsetLoading(true);\r\n\t\t\t\tconsole.log(err.response);\r\n\t\t\t});\r\n\t}, [selectedTrack, REACT_APP_YOUTUBE_API, video, playlistVideo, dispatch]);\r\n\r\n\treturn (\r\n\t\t<div className=\"player\">\r\n\t\t\t<iframe\r\n\t\t\t\tsrc={\r\n\t\t\t\t\tvideoSrc +\r\n\t\t\t\t\t\"?rel=0&amp;controls=1&amp&amp;showinfo=0&amp;modestbranding=1&controls=0&autoplay=1&modestbranding=1\"\r\n\t\t\t\t}\r\n\t\t\t\tallowFullScreen\r\n\t\t\t\tallowautoplay=\"1\"\r\n\t\t\t\ttitle=\"Video player\"\r\n\t\t\t\tclassName=\"iframe\"\r\n\t\t\t/>\r\n\r\n\t\t\t<p className=\"\">\r\n\t\t\t\tAdd to playlist{\" \"}\r\n\t\t\t\t<i className=\"ml-3 fas fa-plus\" onClick={handleClick}></i>\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default VideoPlayer;\r\n","const myPlaylists = [\r\n\t{\r\n\t\ttitle: \"raveney days\",\r\n\t\ttracks: [\r\n\t\t\t\"https://ra.co/images/podcast/ra593-phase-fatale-cvr.jpg\",\r\n\t\t\t\"https://i.ytimg.com/vi/CHsnrVP3oC0/maxresdefault.jpg\",\r\n\t\t\t\"https://f4.bcbits.com/img/a2955042764_10.jpg\",\r\n\t\t\t\"https://i0.cdn.hhv.de/catalog/shop_entry_popup_big/00612/612785.jpg\",\r\n\t\t\t\"https://f4.bcbits.com/img/0022894049_10.jpg\",\r\n\t\t],\r\n\t},\r\n\t{\r\n\t\ttitle: \"big sexy rock song\",\r\n\t\ttracks: [\r\n\t\t\t\"https://images-na.ssl-images-amazon.com/images/I/816wE%2B1ou%2BL._SX466_.jpg\",\r\n\t\t\t\"https://images-na.ssl-images-amazon.com/images/I/81Cgie2PiOL._SL1412_.jpg\",\r\n\t\t\t\"https://musiconcd.eu/wp-content/uploads/2018/07/8718627225912.jpg\",\r\n\t\t\t\"https://images-na.ssl-images-amazon.com/images/I/81kWpi1OTQL._SL1440_.jpg\",\r\n\t\t],\r\n\t},\r\n];\r\nexport default myPlaylists;\r\n","import React, { useState, useEffect } from \"react\";\r\n// import { useDispatch, useSelector } from \"react-redux\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\nimport Carousel from \"react-multi-carousel\";\r\nimport \"react-multi-carousel/lib/styles.css\";\r\nimport myPlaylists from \"../myplaylists\";\r\nimport \"../stylesheets/playlist.css\";\r\n\r\nfunction Playlist() {\r\n\t// const playlist = useSelector((state) => state.playlist);\r\n\r\n\tconst [filter, setFilter] = useState(\"\");\r\n\tconst [playlistTracks, setPlaylistTracks] = useState([]);\r\n\tconst responsive = {\r\n\t\tsuperLargeDesktop: {\r\n\t\t\tbreakpoint: { max: 4000, min: 3000 },\r\n\t\t\titems: 5,\r\n\t\t},\r\n\t\tdesktop: {\r\n\t\t\tbreakpoint: { max: 3000, min: 1024 },\r\n\t\t\titems: 3,\r\n\t\t},\r\n\t\ttablet: {\r\n\t\t\tbreakpoint: { max: 1024, min: 464 },\r\n\t\t\titems: 2,\r\n\t\t},\r\n\t\tmobile: {\r\n\t\t\tbreakpoint: { max: 464, min: 0 },\r\n\t\t\titems: 1,\r\n\t\t},\r\n\t};\r\n\r\n\tconst handleSelect = (e) => {\r\n\t\tsetFilter(e);\r\n\t\tconsole.log(\"filter\", filter);\r\n\t\tmyPlaylists.map((item, i) => {\r\n\t\t\titem.title === filter && console.log(\"it\", item.title);\r\n\t\t\tsetPlaylistTracks(item.tracks);\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"button\">\r\n\t\t\t\t<Dropdown>\r\n\t\t\t\t\t<Dropdown.Toggle>PLAYLISTS</Dropdown.Toggle>\r\n\t\t\t\t\t<Dropdown.Menu>\r\n\t\t\t\t\t\t{myPlaylists.map((playlist, i) => {\r\n\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<Dropdown.Item\r\n\t\t\t\t\t\t\t\t\thref=\"\"\r\n\t\t\t\t\t\t\t\t\teventKey={playlist.title}\r\n\t\t\t\t\t\t\t\t\tonSelect={handleSelect}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{playlist.title}{\" \"}\r\n\t\t\t\t\t\t\t\t</Dropdown.Item>\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t<Dropdown.Item>My Playlist</Dropdown.Item>\r\n\t\t\t\t\t</Dropdown.Menu>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</div>\r\n\t\t\t<Carousel responsive={responsive}>\r\n\t\t\t\t{playlistTracks.map((track, i) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<img className=\"playlistImage\" alt=\"\" src={track}></img>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</Carousel>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Playlist;\r\n","import { useState, useEffect, useRef } from \"react\";\r\nimport useAuth from \"./useAuth\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport SpotifyWebApi from \"spotify-web-api-node\";\r\nimport TrackSearchResult from \"./components/TrackSearch\";\r\nimport VideoPlayer from \"./components/VideoPlayer\";\r\nimport Playlist from \"./components/Playlist\";\r\n\r\nconst spotifyApi = new SpotifyWebApi({\r\n\tclientId: \"d9eef23f8ad74b80b1e7535609cfc4cf\",\r\n});\r\n\r\nexport default function Dashboard({ code }) {\r\n\tconst accessToken = useAuth(code);\r\n\tconst [search, setSearch] = useState(\"\");\r\n\tconst [searchResults, setSearchResults] = useState([]);\r\n\tconst [selectedTrack, setSelectedTrack] = useState(\"\");\r\n\tconst [selectPlaylist, setSelectPlaylist] = useState(\"\");\r\n\tconst [playlistVideo, setPlaylistVideo] = useState(\"\");\r\n\tconst [userName, setUserName] = useState(\"\");\r\n\tconst [userId, setUserId] = useState(\"\");\r\n\tconst [isActive, setIsActive] = useState(false);\r\n\r\n\tconst dropdownRef = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!accessToken) return;\r\n\t\tspotifyApi.setAccessToken(accessToken);\r\n\t\tspotifyApi.getMe().then(\r\n\t\t\tfunction (data) {\r\n\t\t\t\tsetUserName(data.body.display_name);\r\n\t\t\t\tsetUserId(data.body.id);\r\n\t\t\t},\r\n\t\t\tfunction (err) {\r\n\t\t\t\tconsole.log(\"Something went wrong!\", err);\r\n\t\t\t}\r\n\t\t);\r\n\t}, [accessToken, userName]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!search) return setSearchResults([]);\r\n\t\tif (!accessToken) return;\r\n\t\tlet cancel = false;\r\n\t\tspotifyApi.searchTracks(search).then((res) => {\r\n\t\t\tif (cancel) return;\r\n\t\t\tsetSearchResults(\r\n\t\t\t\tres.body.tracks.items.map((track, id) => {\r\n\t\t\t\t\tconst smallestAlbumImage = track.album.images.reduce(\r\n\t\t\t\t\t\t(smallest, image) => {\r\n\t\t\t\t\t\t\tif (image.height < smallest.height) return image;\r\n\t\t\t\t\t\t\treturn smallest;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttrack.album.images[0]\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tartist: track.artists[0].name,\r\n\t\t\t\t\t\ttitle: track.name,\r\n\t\t\t\t\t\turi: track.uri,\r\n\t\t\t\t\t\talbumUrl: smallestAlbumImage.url,\r\n\t\t\t\t\t};\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn () => (cancel = true);\r\n\t}, [search, accessToken]);\r\n\tconst handleDropdown = () => setIsActive(!isActive);\r\n\tconst handleChange = (e) => {\r\n\t\tsetSearch(e.target.value);\r\n\t};\r\n\tconst handleClick = () => {\r\n\t\tsetSelectedTrack(\"angel olsen shut up kiss me\");\r\n\t};\r\n\tconst showPlayer = (value) => {\r\n\t\tsetSelectedTrack(value);\r\n\t};\r\n\tconst handleCloseTest = () => {\r\n\t\tsetSelectedTrack(\"\");\r\n\t};\r\n\tconst selectFromPlaylist = (video) => {\r\n\t\tsetSelectedTrack(video);\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div\r\n\t\t\t\tref={dropdownRef}\r\n\t\t\t\tclassName={`playlistContainer ${\r\n\t\t\t\t\tisActive ? \"active\" : \"inactive\"\r\n\t\t\t\t}`}\r\n\t\t\t>\r\n\t\t\t\t<Playlist isActive={isActive} />\r\n\t\t\t</div>\r\n\t\t\t<div className=\"row w-100\">\r\n\t\t\t\t<p\r\n\t\t\t\t\tclassName=\"ml-5 mt-2\"\r\n\t\t\t\t\tstyle={{ letterSpacing: \"1.9px\", color: \"grey\" }}\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className=\"fas fa-user\"> </i> {userName}\r\n\t\t\t\t</p>\r\n\t\t\t\t<div className=\"offset-2 playlistsTab\" onClick={handleDropdown}>\r\n\t\t\t\t\tPLAYLISTS{\" \"}\r\n\t\t\t\t\t<i\r\n\t\t\t\t\t\tref={dropdownRef}\r\n\t\t\t\t\t\tclassName={` ${\r\n\t\t\t\t\t\t\tisActive ? \"fas fa-arrow-up\" : \"fas fa-arrow-down\"\r\n\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\tstyle={{ color: \"black\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t</i>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"p-5\">\r\n\t\t\t\t{/* <img\r\n\t\t\t\t\t\tsrc=\"https://img.youtube.com/vi/nleRCBhLr3k/0.jpg\r\n\"\r\n\t\t\t\t\t></img> */}\r\n\t\t\t\t<div className=\"\">\r\n\t\t\t\t\t<div className=\"searchBar mr-auto\">\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\t\tplaceholder=\"Search Songs/Artists\"\r\n\t\t\t\t\t\t\tvalue={search}\r\n\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\tshowPlayer={showPlayer}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t<div className=\"mt-4 searchResults col-lg-6\">\r\n\t\t\t\t\t\t\t{searchResults.map((track, id) => (\r\n\t\t\t\t\t\t\t\t<TrackSearchResult\r\n\t\t\t\t\t\t\t\t\ttrack={track}\r\n\t\t\t\t\t\t\t\t\tkey={track.uri}\r\n\t\t\t\t\t\t\t\t\tshowPlayer={showPlayer}\r\n\t\t\t\t\t\t\t\t\tsetPlaylistVideo={setPlaylistVideo}\r\n\t\t\t\t\t\t\t\t\tsetSelectedTrack={setSelectedTrack}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{selectedTrack && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\tclassName=\"closeButton button\"\r\n\t\t\t\t\t\t\t\t\tonClick={handleCloseTest}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tCLOSE VIDEO\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{searchResults && (\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-lg-6 \">\r\n\t\t\t\t\t\t\t\t\t\t<VideoPlayer\r\n\t\t\t\t\t\t\t\t\t\t\tselectedTrack={selectedTrack}\r\n\t\t\t\t\t\t\t\t\t\t\tplaylistVideo={playlistVideo}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"Row hotRow\">\r\n\t\t\t\t\t{!selectedTrack && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p className=\"hotTitle\">WHAT'S HOT TODAY?</p>\r\n\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\tAngel Olsen's banger <i>Shut Up Kiss Me</i> will\r\n\t\t\t\t\t\t\t\tbrighten your day probably . . .\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<button className=\"button\" onClick={handleClick}>\r\n\t\t\t\t\t\t\t\tPLAY NOW\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n","import { useEffect } from \"react\";\nimport Login from \"./components/Login\";\nimport Dashboard from \"./Dashboard\";\nimport \"./stylesheets/index.css\";\n\nconst code = new URLSearchParams(window.location.search).get(\"code\");\n\nfunction App({ userName }) {\n\treturn code ? <Dashboard code={code} userName={userName} /> : <Login />;\n}\n\nexport default App;\n","const initialState = { playlistItem: [] };\r\nconst playlistReducer = (state = { playlist: [] }, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"ADD_PLAYLIST_ITEM\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tplaylist: [...state.playlist, action.payload],\r\n\t\t\t};\r\n\r\n\t\tcase \"DELETE_PLAYLIST_ITEM\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tplaylist: state.playlist.filter(\r\n\t\t\t\t\t(playlistItem) => playlistItem.id !== action.payload\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\nexport default playlistReducer;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./stylesheets/index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport playlistReducer from \"./reducers/playlistReducer\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport thunk from \"redux-thunk\";\n\nconst middleware = [thunk];\n\nconst store = createStore(\n\tplaylistReducer,\n\tcomposeWithDevTools(applyMiddleware(...middleware))\n);\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById(\"root\")\n);\n"],"sourceRoot":""}