(this.webpackJsonpspotify=this.webpackJsonpspotify||[]).push([[0],{119:function(e,t,c){},133:function(e,t,c){},136:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(10),n=c.n(s),i=(c(33),c(2));function r(){return Object(i.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:Object(i.jsx)("a",{href:"https://accounts.spotify.com/authorize?client_id=d9eef23f8ad74b80b1e7535609cfc4cf&response_type=code&redirect_uri=http://localhost:5000/&scope=streaming%20user-read-email%20user-read-private%20user-library-read%20user-library-modify%20user-read-playback-state%20user-modify-playback-state",className:"button",children:Object(i.jsx)("h4",{children:"LET'S START!"})})})}var o=c(7),l=c(15),j=c.n(l),u=c(30);var d=c(141),b=c(30),O=c.n(b);function m(e){var t=e.track,c=e.showPlayer,a=e.setPlaylistVideo;return Object(i.jsxs)("div",{className:"d-flex m-2 align-items-center",style:{cursor:"pointer"},onClick:function(){a(null);var e=t.artist+" "+t.title;c(e)},search:"",children:[Object(i.jsx)("img",{src:t.albumUrl,style:{height:"84px",width:"84px"},alt:""}),Object(i.jsxs)("div",{className:"ml-3",children:[Object(i.jsx)("div",{children:t.title}),Object(i.jsx)("div",{className:"text-muted",children:t.artist})]})]})}var p=c(16);c(119);var h=function(e){var t=e.selectedTrack,c=e.playlistVideo,s=(e.setPlaylistVide,Object(p.b)()),n=(Object(p.c)((function(e){return e.playlist})),Object(a.useState)("")),r=Object(o.a)(n,2),l=r[0],u=r[1],d=Object(a.useState)(!1),b=Object(o.a)(d,2),O=(b[0],b[1]),m=Object(a.useState)(!1),h=Object(o.a)(m,2),f=(h[0],h[1],"AIzaSyCRUOeGdVtM1TzkzTkO5cMox7g8niDBzBM"),g="";return g=c?c.id:"https://www.youtube.com/embed/".concat(l),Object(a.useEffect)((function(){j.a.get("https://www.googleapis.com/youtube/v3/search/?key=".concat(f,"&part=snippet&q=youtu.be/").concat(t)).then((function(e){u(e.data.items[0].id.videoId)})).catch((function(e){O(!0),console.log(e.response)}))}),[t,f,l,c,s]),Object(i.jsxs)("div",{className:"player",children:[Object(i.jsx)("iframe",{src:g+"?rel=0&amp;controls=1&amp&amp;showinfo=0&amp;modestbranding=1&controls=0&autoplay=1&modestbranding=1",allowFullScreen:!0,allowautoplay:"1",title:"Video player",className:"iframe"}),Object(i.jsxs)("p",{className:"",children:["Add to playlist"," ",Object(i.jsx)("i",{className:"ml-3 fas fa-plus",onClick:function(){console.log("line 17",t),s({type:"ADD_PLAYLIST_ITEM",payload:{item:t,id:g}}),console.log("dispatch",s)}})]})]})},f=c(140),g=c(50),y=c.n(g),x=(c(132),[{title:"raveney days",tracks:["https://ra.co/images/podcast/ra593-phase-fatale-cvr.jpg","https://i.ytimg.com/vi/CHsnrVP3oC0/maxresdefault.jpg","https://f4.bcbits.com/img/a2955042764_10.jpg","https://i0.cdn.hhv.de/catalog/shop_entry_popup_big/00612/612785.jpg","https://f4.bcbits.com/img/0022894049_10.jpg"]},{title:"big sexy rock song",tracks:["https://images-na.ssl-images-amazon.com/images/I/816wE%2B1ou%2BL._SX466_.jpg","https://images-na.ssl-images-amazon.com/images/I/81Cgie2PiOL._SL1412_.jpg","https://musiconcd.eu/wp-content/uploads/2018/07/8718627225912.jpg","https://images-na.ssl-images-amazon.com/images/I/81kWpi1OTQL._SL1440_.jpg"]}]);c(133);var v=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)([]),r=Object(o.a)(n,2),l=r[0],j=r[1],u=function(e){s(e),console.log("filter",c),x.map((function(e,t){e.title===c&&console.log("it",e.title),j(e.tracks)}))};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"button",children:Object(i.jsxs)(f.a,{children:[Object(i.jsx)(f.a.Toggle,{children:"PLAYLISTS"}),Object(i.jsxs)(f.a.Menu,{children:[x.map((function(e,t){return Object(i.jsxs)(f.a.Item,{href:"",eventKey:e.title,onSelect:u,children:[e.title," "]})})),Object(i.jsx)(f.a.Item,{children:"My Playlist"})]})]})}),Object(i.jsx)(y.a,{responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},children:l.map((function(e,t){return Object(i.jsx)("img",{className:"playlistImage",alt:"",src:e})}))})]})},S=new O.a({clientId:"d9eef23f8ad74b80b1e7535609cfc4cf"});function T(e){var t=function(e){var t=Object(a.useState)(),c=Object(o.a)(t,2),s=c[0],n=c[1],i=Object(a.useState)(),r=Object(o.a)(i,2),l=r[0],d=r[1],b=Object(a.useState)(),O=Object(o.a)(b,2),m=O[0],p=O[1];return new u({redirectUri:"http://localhost:3000/",clientId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_REDIRECT_URI:"http://localhost:3000/",REACT_APP_YOUTUBE_API:"AIzaSyCRUOeGdVtM1TzkzTkO5cMox7g8niDBzBM"}).REACT_APP_CLIENT_ID,clientSecret:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_REDIRECT_URI:"http://localhost:3000/",REACT_APP_YOUTUBE_API:"AIzaSyCRUOeGdVtM1TzkzTkO5cMox7g8niDBzBM"}).REACT_APP_CLIENT_SECRET,refreshToken:l}),Object(a.useEffect)((function(){j.a.post("http://localhost:5000/login",{code:e}).then((function(e){n(e.data.accessToken),d(e.data.refreshToken),p(e.data.expiresIn),window.history.pushState({},null,"/"),console.log()})).catch((function(){window.location="/"}))}),[e]),Object(a.useEffect)((function(){if(l&&m){var e=setInterval((function(){j.a.post("http://localhost:5000/refresh",{refreshToken:l}).then((function(e){n(e.data.accessToken),p(e.data.expiresIn)})).catch((function(){window.location="/"}))}),1e3*(m-60));return function(){return clearInterval(e)}}}),[l,m]),s}(e.code),c=Object(a.useState)(""),s=Object(o.a)(c,2),n=s[0],r=s[1],l=Object(a.useState)([]),b=Object(o.a)(l,2),O=b[0],p=b[1],f=Object(a.useState)(""),g=Object(o.a)(f,2),y=g[0],x=g[1],T=Object(a.useState)(""),_=Object(o.a)(T,2),E=(_[0],_[1],Object(a.useState)("")),k=Object(o.a)(E,2),w=k[0],A=k[1],I=Object(a.useState)(""),N=Object(o.a)(I,2),P=N[0],C=N[1],R=Object(a.useState)(""),L=Object(o.a)(R,2),D=(L[0],L[1]),U=Object(a.useState)(!1),M=Object(o.a)(U,2),z=M[0],B=M[1],V=Object(a.useRef)(null);Object(a.useEffect)((function(){t&&(S.setAccessToken(t),S.getMe().then((function(e){C(e.body.display_name),D(e.body.id)}),(function(e){console.log("Something went wrong!",e)})))}),[t,P]),Object(a.useEffect)((function(){if(!n)return p([]);if(t){var e=!1;return S.searchTracks(n).then((function(t){e||p(t.body.tracks.items.map((function(e,t){var c=e.album.images.reduce((function(e,t){return t.height<e.height?t:e}),e.album.images[0]);return{artist:e.artists[0].name,title:e.name,uri:e.uri,albumUrl:c.url}})))})),function(){return e=!0}}}),[n,t]);var H=function(e){x(e)};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{ref:V,className:"playlistContainer ".concat(z?"active":"inactive"),children:Object(i.jsx)(v,{isActive:z})}),Object(i.jsxs)("div",{className:"row w-100",children:[Object(i.jsxs)("p",{className:"ml-5 mt-2",style:{letterSpacing:"1.9px",color:"grey"},children:[Object(i.jsx)("i",{className:"fas fa-user",children:" "})," ",P]}),Object(i.jsxs)("div",{className:"offset-2 playlistsTab",onClick:function(){return B(!z)},children:["PLAYLISTS"," ",Object(i.jsx)("i",{ref:V,className:" ".concat(z?"fas fa-arrow-up":"fas fa-arrow-down"),style:{color:"black"},children:" "})]})]}),Object(i.jsxs)("div",{className:"p-5",children:[Object(i.jsxs)("div",{className:"",children:[Object(i.jsx)("div",{className:"searchBar mr-auto",children:Object(i.jsx)(d.a.Control,{type:"search",placeholder:"Search Songs/Artists",value:n,onChange:function(e){r(e.target.value)},showPlayer:H})}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"mt-4 searchResults col-lg-6",children:O.map((function(e,t){return Object(i.jsx)(m,{track:e,showPlayer:H,setPlaylistVideo:A,setSelectedTrack:x},e.uri)}))}),y&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("p",{className:"closeButton button",onClick:function(){x("")},children:"CLOSE VIDEO"}),O&&Object(i.jsx)("div",{className:"col-lg-6 ",children:Object(i.jsx)(h,{selectedTrack:y,playlistVideo:w})})]})]})]}),Object(i.jsx)("div",{className:"Row hotRow",children:!y&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("p",{className:"hotTitle",children:"WHAT'S HOT TODAY?"}),Object(i.jsxs)("p",{children:["Angel Olsen's banger ",Object(i.jsx)("i",{children:"Shut Up Kiss Me"})," will brighten your day probably . . ."]}),Object(i.jsx)("button",{className:"button",onClick:function(){x("angel olsen shut up kiss me")},children:"PLAY NOW"})]})})]})]})}var _=new URLSearchParams(window.location.search).get("code");var E=function(e){var t=e.userName;return _?Object(i.jsx)(T,{code:_,userName:t}):Object(i.jsx)(r,{})},k=c(56),w=c(17),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{playlist:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_PLAYLIST_ITEM":return Object(w.a)(Object(w.a)({},e),{},{playlist:[].concat(Object(k.a)(e.playlist),[t.payload])});case"DELETE_PLAYLIST_ITEM":return Object(w.a)(Object(w.a)({},e),{},{playlist:e.playlist.filter((function(e){return e.id!==t.payload}))});default:return e}},I=c(21),N=c(54),P=[c(55).a],C=Object(I.createStore)(A,Object(N.composeWithDevTools)(I.applyMiddleware.apply(void 0,P)));n.a.render(Object(i.jsx)(p.a,{store:C,children:Object(i.jsx)(E,{})}),document.getElementById("root"))},33:function(e,t,c){},97:function(e,t){}},[[136,1,2]]]);
//# sourceMappingURL=main.7b840781.chunk.js.map